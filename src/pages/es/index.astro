---
import Layout from '../../layouts/Layout.astro';

/* =========
   Textos ES
   ========= */
const t = {
  metaTitle: (name: string) => `${name} | Portafolio`,
  hero: {
    hi: (name: string) => `Hola, soy ${name}`,
    role: "Desarrollador de software y analista de datos",
    tagline:
      "Ingeniero de sistemas especializado en desarrollo web, análisis de datos y automatización de procesos. Apasionado por crear soluciones que mejoren la gestión y la toma de decisiones.",
    ctaProjects: "Ver trabajos",
    ctaContact: "Contacto",
    location: "Cajamarca, Perú",
    availability: "Abierto a colaboraciones y proyectos freelance",
  },
  sections: {
    skills: "Skills",
    projects: "Trabajos",
    contact: "Contacto",
    experience: "Experiencia",
    writeMe: "Escríbeme",
    contactMsg:
      "¿Trabajamos juntos? Escríbeme para colaboraciones, consultorías o proyectos de desarrollo y analítica.",
  },
  links: { github: "GitHub", linkedin: "LinkedIn", email: "Email" },
  projectBtnDemo: "Ver demo",
  projectBtnRepo: "Repo",
};

/* =========
   Datos
   ========= */
const profile = { 
  name: "Sebastián"
};

const links = [
  { label: t.links.github,   href: "https://github.com/SebHernandezAmoros" },
  { label: t.links.linkedin, href: "https://www.linkedin.com/in/sebastian-amoros/" },
  { label: t.links.email,    href: "mailto:sebastianalbertoamoros@gmail.com" },
];

/* FOTO DESACTIVADA (vacío = no renderiza y la grilla pasa a 1 columna) */
const avatarSrc = ''; // <-- dejar vacío para ocultar la foto
const hasAvatar = Boolean(avatarSrc);

/* Social del hero */
const social = [
  { label: 'GitHub',   href: 'https://github.com/SebHernandezAmoros',         icon: 'github' },
  { label: 'LinkedIn', href: 'https://www.linkedin.com/in/sebastian-amoros/', icon: 'linkedin' },
  { label: 'Email',    href: 'mailto:sebastianalbertoamoros@gmail.com',       icon: 'mail' },
];

/* Skills (actualizado según tus proyectos) */
const skills = [
  { group: "Frontend",            items: ["HTML", "CSS", "JavaScript", "Vue", "React", "Bootstrap"] },
  { group: "Backend",             items: ["PHP", "Laravel", "Livewire", "Node.js"] },
  { group: "Bases de datos",      items: ["SQL Server", "MySQL"] },
  { group: "Data / Analytics",    items: ["Power BI", "Excel avanzado", "ETL básico", "Modelado de datos"] },
  { group: "Herramientas",        items: ["Git", "GitHub", "Jira", "Trello"] },
  { group: "Otros",               items: ["WordPress"] },
];

/* Proyectos */
const projects = [
  {
    title: "Observatorio de Salud Mental",
    description:
      "Portal público con dashboards interactivos y filtros dinámicos para visualizar indicadores regionales de salud mental. Mejora la transparencia y la toma de decisiones.",
    stack: ["Livewire", "SQL Server", "Node.js"],
    link: "",
    repo: "",
  },
  {
    title: "Sistema Estadístico de Salud Mental",
    description:
      "Consolidación, limpieza y análisis de datos; reportes dinámicos para soporte en Power BI y Excel. Automatización de flujos y mejora de la calidad de la información.",
    stack: ["SQL Server", "Excel"],
    link: "",
    repo: "",
  },
  {
    title: "Aula Virtual para Ingenieros (CONIT)",
    description:
      "Plataforma con roles, cursos, lecciones y evaluaciones. Diseño de base de datos y funcionalidades clave para una experiencia educativa integral.",
    stack: ["MySQL", "Laravel", "Vue"],
    link: "",
    repo: "",
  },
  {
    title: "Web Corporativa (Peña Dorada Ingenieros)",
    description:
      "Sitio institucional con CRM y formularios de contacto. Optimización de la atención y tiempos de respuesta.",
    stack: ["React"],
    link: "",
    repo: "",
  },
];

/* Experiencia */
const experience = [
  {
    role: "Desarrollador de sistemas",
    company: "DIRESA Cajamarca (OITE)",
    period: "Abr 2025 — Oct 2025",
    bullets: [
      "Informe analítico de salud mental con dashboards y gráficos dinámicos.",
      "Reestructuración del observatorio regional con módulo de notas de prensa.",
      "Mejora de visualización y transparencia de datos para toma de decisiones.",
    ],
  },
  {
    role: "Asistente del área de sistemas",
    company: "CONIT",
    period: "Oct 2022 — May 2023",
    bullets: [
      "Desarrollo de aula virtual con módulos, exámenes y perfiles.",
      "Diseño de base de datos y funciones educativas clave.",
      "Implementación de SEO y optimización de visibilidad.",
    ],
  },
  {
    role: "Practicante",
    company: "Peña Dorada Ingenieros S.R.L.",
    period: "Abr 2022 — Jul 2022",
    bullets: [
      "Diseño y actualización del sitio web institucional.",
      "Implementación de CRM y formularios de contacto.",
      "Mejora de tiempos de respuesta y atención al cliente.",
    ],
  },
];

const contact = { email: "sebastianalbertoamoros@gmail.com" };
---

<style>
  .wrap { max-width:1100px; margin:0 auto; padding:0 1rem; }
  .center { text-align:center; }
  .muted { color:#a5adc1; }

  .chip {
    display:inline-block; padding:6px 10px; border:1px solid #253057;
    border-radius:999px; margin:4px; font-size:.9rem; background:#121a30;
  }

  .card {
    border:1px solid #1b2240; border-radius:16px; padding:16px; margin:12px 0;
    background:#0f1630; box-shadow:0 12px 38px rgba(0,0,0,.35);
    transition: transform .15s ease, box-shadow .15s ease;
  }
  .card:hover { transform: translateY(-2px); box-shadow: 0 16px 44px rgba(0,0,0,.42); }

  .grid { display:grid; gap:16px; }
  @media (min-width: 900px) { .grid-2 { grid-template-columns:1fr 1fr; } }

  /* Botones nuevos (asegura estilo y separación) */
  .btn {
    display:inline-block; padding:12px 18px; border-radius:12px;
    background:#4f46e5; color:#fff; border:1px solid #4338ca;
    text-decoration:none; font-weight:600; line-height:1;
    box-shadow: 0 10px 22px rgba(79,70,229,.25);
  }
  .btn:hover { transform: translateY(-1px); }
  .btn.ghost {
    background: transparent; color:#e7e9ee; border:1px solid #2a3046;
    box-shadow:none;
  }

  .section { padding:3.5rem 0; }
  .h1 { font-size:2.4rem; font-weight:800; margin:0 0 .6rem 0; }
  .h2 { font-size:1.6rem; font-weight:800; margin:0 0 .8rem 0; }

  .langswitch a {
    color:#a5adc1; text-decoration:none; margin:0 4px; padding:8px 12px;
    border:1px solid #2a3046; border-radius:999px; display:inline-block;
  }
  .langswitch a.active { background:#16224a; color:#e7e9ee; }

  /* ====== HERO moderno ====== */
  .hero { padding-top: 2.2rem; }
  .grid-hero {
    display: grid; gap: 24px;
    grid-template-columns: 1.2fr 0.8fr;
    align-items: center;
  }
  /* Si no hay foto -> 1 columna */
  .grid-hero.single { grid-template-columns: 1fr; }

  @media (max-width: 880px) {
    .grid-hero { grid-template-columns: 1fr; }
  }

  .display {
    font-size: clamp(2.2rem, 6vw, 3.2rem);
    font-weight: 800;
    letter-spacing: -0.02em;
    margin: 0 0 .5rem 0;
  }
  .role { font-weight: 600; font-size: 1.1rem; margin: .2rem 0 1rem; color:#dfe4f5; }
  .tagline { margin: .5rem 0 1.25rem; max-width: 760px; }

  .hero-cta { display:flex; gap:.8rem; margin: 1rem 0 1rem; flex-wrap:wrap; }

  .meta { margin:1rem 0 0; }

  .social { display:flex; gap:.6rem; margin-top:1rem; }
  .social-btn {
    width:40px; height:40px; display:grid; place-items:center;
    border:1px solid #2a3046; border-radius:999px; color:#d4daf0;
    text-decoration:none; background:#101632;
  }
  .social-btn:hover { background:#121a3a; }

  /* Foto (no se muestra porque avatarSrc = '') */
  .avatar-wrap { position: relative; width:min(360px, 85%); margin-inline:auto; }
  .avatar {
    width:100%; height:auto; border-radius: 28px;
    display:block; border:1px solid #1b2240; box-shadow: 0 22px 60px rgba(0,0,0,.45);
    object-fit: cover;
  }
  .badge {
    position:absolute; right:-12px; bottom:-12px;
    background:#0f1630; border:1px solid #24305a; color:#dfe4f5;
    padding:.55rem .9rem; border-radius:14px; font-size:.9rem;
    box-shadow: 0 10px 28px rgba(0,0,0,.35);
  }
</style>

<Layout title={t.metaTitle(profile.name)}>
  <!-- HERO -->
  <section class="section hero">
    <div class={`wrap grid-hero ${hasAvatar ? '' : 'single'}`}>
      <!-- Columna izquierda: texto -->
      <div class="hero-copy">
        <div class="langswitch" style="text-align:right; margin-bottom:1rem;">
          <a href="/es/" class="active">ES</a>
          <a href="/en/">EN</a>
        </div>

        <h1 class="display">{t.hero.hi(profile.name)}</h1>
        <p class="role">{t.hero.role}</p>
        <p class="muted tagline">{t.hero.tagline}</p>

        <div class="hero-cta">
          <a class="btn" href="#projects">{t.hero.ctaProjects}</a>
          <a class="btn ghost" href="#contact">{t.hero.ctaContact}</a>
        </div>

        <p class="muted meta">
          {t.hero.location} · {t.hero.availability}
        </p>

        <!-- Social -->
        <div class="social">
          {social.map(s => (
            <a href={s.href} target="_blank" rel="noopener noreferrer" aria-label={s.label} class="social-btn">
              {s.icon === 'github'   && <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M12 .5a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58v-2.02c-3.34.73-4.04-1.42-4.04-1.42-.55-1.4-1.34-1.77-1.34-1.77-1.1-.76.08-.74.08-.74 1.22.09 1.86 1.26 1.86 1.26 1.08 1.85 2.83 1.32 3.52 1.01.11-.8.42-1.32.76-1.63-2.67-.31-5.48-1.34-5.48-5.96 0-1.32.47-2.39 1.25-3.23-.13-.31-.54-1.58.12-3.29 0 0 1.01-.32 3.31 1.23a11.5 11.5 0 0 1 6.02 0c2.3-1.55 3.31-1.23 3.31-1.23.66 1.71.25 2.98.12 3.29.78.84 1.25 1.91 1.25 3.23 0 4.63-2.81 5.65-5.49 5.96.43.37.81 1.1.81 2.22v3.29c0 .32.21.7.83.58A12 12 0 0 0 12 .5Z"/></svg>}
              {s.icon === 'linkedin' && <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M4.98 3.5A2.5 2.5 0 1 1 5 8.5a2.5 2.5 0 0 1-.02-5Zm.02 5.5H2V22h3V9Zm4 0H6v13h3v-7.1c0-1.87.98-3.1 2.56-3.1 1.2 0 1.44.86 1.44 2.03V22h3v-7.92c0-3.07-1.64-4.5-3.82-4.5-1.77 0-2.56.98-2.98 1.67h-.04V9Z"/></svg>}
              {s.icon === 'mail'     && <svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true"><path fill="currentColor" d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2Zm0 2v.01L12 13l8-6.99V6H4Zm16 12V8l-8 6-8-6v10h16Z"/></svg>}
            </a>
          ))}
        </div>
      </div>

      <!-- Columna derecha (solo si hay foto) -->
      {hasAvatar && (
        <div class="hero-media">
          <div class="avatar-wrap">
            <img src={avatarSrc} alt="Foto de Sebastián" class="avatar" />
            <div class="badge">
              <strong>+3 años</strong> de experiencia
            </div>
          </div>
        </div>
      )}
    </div>
  </section>

  <!-- SKILLS -->
  <section id="skills" class="section">
    <div class="wrap">
      <h2 class="h2">{t.sections.skills}</h2>
      <div class="grid grid-2">
        {skills.map((s) => (
          <div class="card">
            <strong>{s.group}</strong>
            <div style="margin-top:8px;">
              {s.items.map((it) => (<span class="chip">{it}</span>))}
            </div>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- PROYECTOS -->
  <section id="projects" class="section">
    <div class="wrap">
      <h2 class="h2">{t.sections.projects}</h2>
      <div class="grid grid-2">
        {projects.map((p) => (
          <article class="card">
            <h3 style="margin:0 0 6px 0;">{p.title}</h3>
            <p class="muted">{p.description}</p>
            <div style="margin:8px 0;">
              {p.stack.map((tok) => (<span class="chip">{tok}</span>))}
            </div>
            <div style="margin-top:8px;">
              {p.link && <a class="btn" href={p.link} target="_blank" rel="noopener noreferrer">{t.projectBtnDemo}</a>}
              {p.repo && <a class="btn ghost" style="margin-left:.6rem;" href={p.repo} target="_blank" rel="noopener noreferrer">{t.projectBtnRepo}</a>}
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- CONTACTO -->
<!--   <section id="contact" class="section">
    <div class="wrap center">
      <h2 class="h2">{t.sections.contact}</h2>
      <p class="muted" style="max-width:720px; margin-inline:auto;">{t.sections.contactMsg}</p>
      <div style="margin-top:12px;">
        <a class="btn" href={`mailto:${contact.email}`}>{t.sections.writeMe}</a>
      </div>
    </div>
  </section> -->

  <!-- EXPERIENCIA -->
  <section id="experience" class="section">
    <div class="wrap">
      <h2 class="h2">{t.sections.experience}</h2>
      <div class="grid grid-2">
        {experience.map((e) => (
          <div class="card">
            <div style="display:flex; justify-content:space-between; align-items:center;">
              <strong>{e.role}</strong>
              <span class="muted">{e.period}</span>
            </div>
            <div class="muted" style="margin:4px 0 8px 0;">{e.company}</div>
            <ul style="margin:0; padding-left:18px;">
              {e.bullets.map((b) => (<li style="margin:6px 0;">{b}</li>))}
            </ul>
          </div>
        ))}
      </div>
    </div>
  </section>
</Layout>
